<?php
/**
 * Template part for displaying page content in page.php
 */
?>

<article id="post-<?php the_ID(); ?>" <?php post_class(''); ?> role="article" itemscope itemtype="http://schema.org/WebPage">
	
	<?php $banner_style = get_field('banner_style');?>	
						
	<?php if ($banner_style == 'home-page' ):?>			
	
		<?php if( have_rows('home_banner') ):?>
			<?php while ( have_rows('home_banner') ) : the_row();?>
			
			<?php $image = get_sub_field('image');?>
	
			<header class="article-header style-<?php echo $banner_style;?>">

					<div class="bg" style="background-image: url(<?php echo esc_url($image['url']); ?>);"></div>
<!-- 					    <img src="<?php echo esc_url($image['url']); ?>" alt="<?php echo esc_attr($image['alt']); ?>" /> -->
					    		    
					<div class="grid-container">
						<div class="grid-x grid-padding-x">
												
							<div class="cell small-8 tablet-6">
								<h1><?php the_sub_field('heading');?></h1>
							</div>
							
							<?php if( have_rows('cta') ):?>
							<div class="cta-donate cell small-12 tablet-10 tablet-offset-1 large-8 large-offset-2">
								<?php while ( have_rows('cta') ) : the_row();?>	
								<a class="inner" href="<?php the_sub_field('link');?>" target="_blank">
									<div class="grid-container">
									<div class="grid-x grid-padding-x">
										<div class="cell shrink grid-x">
											<?php 
											$image = get_sub_field('state_image');
											if( !empty( $image ) ): ?>
											    <img src="<?php echo esc_url($image['url']); ?>" alt="<?php echo esc_attr($image['alt']); ?>" />
											<?php endif; ?>
										</div>
										
										<div class="text-wrap cell auto">
											<h3><?php the_sub_field('large_text');?></h3>
											<p><?php the_sub_field('small_text');?></p>
										</div>
										
										<div class="arrow-box cell shrink grid-x">
											<svg width="46px" height="32px" viewBox="0 0 46 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
											    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											        <g id="right-arrow" transform="translate(0.000000, 1.591000)" stroke="#FFFFFF" stroke-width="4.5">
											            <g id="Group_95" transform="translate(0.000000, 13.552000)">
											                <line x1="0" y1="0.5" x2="41.452" y2="0.5" id="Line_1088"></line>
											            </g>
											            <polyline id="Path_35" points="27.773 0 41.825 14.052 27.773 28.1"></polyline>
											        </g>
											    </g>
											</svg>
										</div>
									</div>
									</div>
								</a>
							
								<?php endwhile;?>
							</div>
							<?php endif;?>
							
							<div class="copy-box cell small-12 tablet-10 tablet-offset-1 large-8 large-offset-2">
								<div class="inner">
									<?php the_sub_field('box_copy');?>
									
									
									<?php 
									$link = get_sub_field('box_link');
									if( $link ): 
									    $link_url = $link['url'];
									    $link_title = $link['title'];
									    $link_target = $link['target'] ? $link['target'] : '_self';
									    ?>
									    <a class="lm-link" href="<?php echo esc_url( $link_url ); ?>" target="<?php echo esc_attr( $link_target ); ?>"><?php echo esc_html( $link_title ); ?></a>
									<?php endif; ?>

								</div>
							</div>			
							
						</div>
					</div>

			</header> <!-- end article header -->	
			
			<?php endwhile;?>
		<?php endif;?>			
	
	
	<?php elseif( $banner_style == 'image-overlap' ):?>
		<?php if( have_rows('image_overlap_banner') ):?>
			<?php while ( have_rows('image_overlap_banner') ) : the_row();?>
	
			<header class="article-header style-<?php echo $banner_style;?>">
				<div class="top" style="background-image: url(<?php the_field('background_image');?>)">
					<div class="grid-container">
						<div class="grid-x grid-padding-x">	
							
							<?php if( $alt_heading = get_sub_field('alternative_heading') ):?>
								<div class="cell">
									<h1 class="page-title"><?php echo $alt_heading; ?></h1>
								</div>
							<?php else:?>
								<div class="cell">
									<h1 class="page-title"><?php the_title(); ?></h1>
								</div>
							<?php endif;?>
							
						</div>
					</div>
				</div>
				
				<div class="bottom">
					<div class="grid-container">
						<div class="inner grid-x grid-padding-x">	
					
							<div class="left cell small-12 medium-6">
							
								<?php the_sub_field('copy');?>
								
							</div>
							
							<div class="right cell small-12 medium-6">
								<div class="inner">
								
									<?php 
									$image = get_sub_field('image');
									if( !empty( $image ) ): ?>
									<div class="banner-img-wrap">
									    <img class="banner-img" src="<?php echo esc_url($image['url']); ?>" alt="<?php echo esc_attr($image['alt']); ?>" />
										
										<?php if( get_sub_field('add_state') ):?>
											<div class="logo-wrap">
											    <svg xmlns="http://www.w3.org/2000/svg" width="172.673" height="90.742" viewBox="0 0 172.673 90.742">
												  <g id="Group_559" data-name="Group 559" transform="translate(-46.151 -261.497)">
												    <path id="Path_204" data-name="Path 204" d="M742.874,668.408c-.3-1.732-.94-3.03-.7-4.611.439-.371-1.079-1.377-1.383-1.427-1.931-.317-1.321,3.421-1.4,4.6.458-.258,1.724-1.206,2-.085-1.732,1.956,1.592,2.137,1.484,1.523C742.81,668.041,742.956,668.873,742.874,668.408Z" transform="translate(-561.339 -324.599)" fill="#2bc640"/>
												    <path id="Path_205" data-name="Path 205" d="M751.539,707.612l.749-.2c-1.077-1.658-3.2-2.4-3.28.3-.044,1.478-.616,2.591,1.136,2.592s1.048-1.258,1.395-2.692C751.735,707.559,751.458,707.949,751.539,707.612Z" transform="translate(-569.051 -359.88)" fill="#2bc640"/>
												    <path id="Path_206" data-name="Path 206" d="M217.68,324.687c-5.519.126-11.035.194-16.556.146-2.5-.022-5-.006-7.491-.186,0-3.025-.406-6.124-.662-9.14-.981-11.533-1.822-23.076-2.759-34.612-.425-5.238-.906-10.485-1.2-15.732-.173-3.086.438-3.13-2.762-3.052-2.862.07-136.066-.577-138.728-.613-.917-.013-.607,6.544-.65,7.515-.225,5.09-.52,10.175-.706,15.27-.27,7.4,3.85-1.015,6.635-1.493,1.733-.3,1.039-.942,2.572-1.625.986-.439-.535-1.066,1.218-1.455.67-.149.66-.736,1.2-.972a14.094,14.094,0,0,0,2.98-2.23,3.83,3.83,0,0,0,.984-2.129c.724.086,1.406.5,1.747-.251.8.574,2.128,1.958,3.11,2.111.042.007,1.357-2.053,1.569-2.275,2.01-.082,2.084-4.417,4.452-3.575-.472-.952,1.025-3.774,1.426-3.774,0,2.914,2.772,4.776,5.78,4.982a5.481,5.481,0,0,1,1.826.784c.9.38,1.99-.077,2.963.1,1.991.366,1.5-1.75,3.2-1.1-.046-.332-1.175-2.226-1.128-2.252.619-.354,1.25.731,2.125.17.037-.024-1.213-1.557-1.176-1.923.233.122,1.5,1.009,1.788.821a1.293,1.293,0,0,0,.033-.943c.767.127.751.147.964-.6.569.2,3.235,1.714,3.551.66.279-.933,1.8-1.4,1.371-2.261,2.2-.729,3.42-1.236,5.567.382,1.108.835,1.569,2.584,2.67,3.257a3.146,3.146,0,0,0,1.865-.1,1.7,1.7,0,0,0,.543.975c.851.189-.167-1.413,1.461-.879,1.361.446.28-.855,1.746-.427,3.178.93-1.22,2.337-1.235,2.61-.016.289,1.041,1.647,1.138,2.231a1.357,1.357,0,0,0,1.268-.852c.06.355-.889,1.157-.712,1.285,1.331.969,1.71.107,2.872.472-.667.415-1.551,2.22-1.249,2.732.506.857,1.467.342,1.938,1.014.835,1.19-.241,1.3-.018,2.081.515,1.792-.968,2.065,1.369,2.836,1.187.391,1.5-.072,2.691.53.742.374,2.464.057,3.017.485.914.707.689,1.8,2.089,2.226,3.631,1.105.326,3.178-.39,4.963-.748,1.865,2.654,4.084,4.133,4.437,1.333.318,2.757.11,4.023.672,1.8.8,2.072.964,2.24,2.579.14,1.344,1.511,1.549,2.565,1.666,1.5.166,1.917.73,2.87,1.825l3.046-3.162,3.741,4.119c1.5,1.652-.377,2.313-1.736,3.672-1.387,1.387-2.256,2.006-2.245,4.045.013,2.62-.2.933-1.431,2.011-1.162,1.022-2.169,1.561-2.151,3.159.011.993,1.175,2.233-.867,2.155-1.484-.056-3.838,4.052-4.205,5.307-.421,1.438-.056,4.773.925,6.038,2.152,2.774,3.61-1.792,5.253-1.433,2.455.536,2.928-3.975,4.579.316.562,1.46.215,2.727,1.822,3.57a2.013,2.013,0,0,1,1.084,1.827l3.079,1.909a1.677,1.677,0,0,0-.264-2.205c2.7.158.828,1.71,1.78,2.846,1.163,1.387,2.138-.038,3.038.365,1.21.542,3.422.345,4.824.783,1.876.586,2.284,2.557,2.768,4.172,1.274-1.005,1.825.7,2.36,1.586.353-.582.08-.948.419-1.54.875-1.529,1.282,1.482,1.847,1.272.448-.166,3.2,2.754,3.711,3.383a7.649,7.649,0,0,0-.293-2.688c-.215-1.336.066-1.213.278-2.366s-2.6-4.459-3.02-5.806c-.273-.872.4-1.277.805-1.906.368-.567-1.5-.78-1.225-1.739.25-.857,1.425-2.224.519-3.115-.812-.8-1.623-1.783-2.348-2.657-1.482-1.787-2.54-3.232-2.494-5.621.051-2.667-1.016-5.327-.522-7.912.224-1.174-1.914-.88-.359-2.909.66-.861,3.119-3.922.678-3.762.423-1.789.832-2.7,2.249-2.669-.041-.507.544-1.933.037-2.1-.359-.12-1.055-1.136-.363-1.224,1.421-.181,3.621-1.876,1.966-3.311-1.626-1.409.529-3.913-1.642-5.3-.811-.519-4.638-2.249-2.45-3.7.781.878,2.8,1.726,3.459.769.447-.646,1.049-.925,1.529-1.513.905-1.108-1.332-1.063-.117-1.757,1.315-.752-.271-2.283,1.955-1.555.6-.74.3-1.635.032-2.6,1.719-.259,2,1.079,1.566,2.592,1.225.076.64-1.267,1.794-1.81-1.009-1.782.8-.362,1.6-1.082,1.059-.945,1.771-1.752,2.841-2.576.808-.622,3.071-1.484,2.708-2.593-.391-1.194-1.611-.339-1.942-1.428-.531-1.748,1.644-2.779,2.924-2.874.374-.028,2.869-1.255,2.62.048-.163.851-2.043,4.208-1.483,4.849-.31-.355,2.707-.436.7.763-.291.174-2.326,2.038-1.729,2.335.983.489,1.338-.539,1.338.884-1.057.39-1.885-.165-3.031-.127-1.578.052-1.723,1.816-2.925,1.818-1.7,0-.335,2.506-1.809,3.206-1.3.619-2.119,3.894-2.532,5.168-.493,1.521,1.186,2.154,1.531,3.913.165.839-1.076,4.925,1.4,3.763-.987-2-.534-4.272,1.955-3.919-.191,1.006-1.036,1.123-1.311,1.966-.3.9,1.37,2.14.475,2.761-2.446,1.7-4.42,1.156-5.136-2.108-1.29.5-3.752,9.734-2.384,10.231.233-.459.128-1.115.936-1.018.78.094-.151-2.33.823-2.764,1.048,1.642.964-.877,1.871-1.477a1.026,1.026,0,0,0,.677,1.088c.939-.233-.592-1.315.974-1.143,1.5.165.961,2.532,1.052,3.5.068.726.921,2.379-.129,2.76-1.264.458-1.895-1.054-2.354-1.851-.464-.107-1.741,2.566-1.909,3a8.665,8.665,0,0,0-1,2.852c-.015.148-.2,3.422.185,3.195,1.291-.753.134-1.74,1.026-3,.259.2,1.106,1.246,1.578.932.392-.262.046-.937.673-1.1.722-.185.923,1.536,1.342,2.157,1.535,2.276.155.074,1.907,1.076.517.3,1.3,1.225.653,1.8-.881.782-2.738,1.754-3.131.034-1.923,1.152-1.125,1.692-2.883,2.952,1.407.923.745,2.335,2.519,1.721,1.381,2-3.656,1.385-3.48,2.635.209,1.486,1.757,2.449,2.091,3.921.4,1.776,1.187,1.534,1.732,2.842-2.721.8,1.177,2.262,1.744,3.407a4.334,4.334,0,0,0,1.442,2.06c.46.28,1.815-.028,1.272-.29-.932-.45-1.731-.263-1.987-1.463-.267-1.253,1.728-.416,2.209-.552,1.222-.345-.053,1.6,1.291,1.562,1-.028,1.034,1.592,2.348,1.69-.31-.988.352-2.781,0-3.374-1.22-2.062.1-1.021.624-2.84.109-.382.494-2.639,1.431-1.057,1.094,1.846-.053,2.286-1.7,2.626.458,1.231,2.725,2.5,1.794,3.9,2.656-.791-.145-.945,1.05-1.783,1.092-.765,1.759,1.726,2.293,1.965q.141-.392.275-.787c.419-.306,1.518,1.33,1.3,1.64-.363.526-1.99.476-2.6.712-1.295.5-1.016.427-1.32,1.513-.154.55-.727,2.786.569,2.786.321-1.789,4.64-2.094,4.007-.652-.45,1.026-2.577,1.666-1.46,3.178.417-.054,1.8-1.242,2.192-.242.374.951-2.12,1.219-2.3,2.077-.28,1.328-1.63,3.94-.6,5.247.886,1.12,3.7-2.275,4.214-2.748.549-.51,4.108.119,4.814.356-.594.779-.027.687.889.841-1.312-3.41,6.7-3.067,8.418-3.317,1.843-.267,3.686-.505,5.535-.729,2.137-.258,2.293-1.187,3.2-3.1,1.618-3.4,2.266-7.354,3.465-10.923a41.72,41.72,0,0,0,2.209-7.805l-1.145.095Z" transform="translate(0 0)" fill="#2bc640"/>
												  </g>
												</svg>

											</div>
										<?php endif;?>
																		    
									</div>
									<?php endif; ?>		
																	
								</div>
							</div>
				
						</div>
					</div>
				</div>
								
			</header> <!-- end article header -->
			
		<?php endwhile;?>
	<?php endif;?>
	
	
	<?php elseif( $banner_style == 'just-title' ):?>
	
	<header class="article-header style-<?php echo $banner_style;?>">
		<div class="top" style="background-image: url(<?php the_field('background_image');?>)">
			<div class="grid-container">
				<div class="grid-x grid-padding-x">	
					<div class="cell">
						<div class="text-wrap">
	
							<?php if( $alt_heading = get_sub_field('alternative_heading') ):?>
					
								<h1 class="page-title"><?php echo $alt_heading; ?></h1>
					
							<?php else:?>
							
								<h1 class="page-title"><?php the_title(); ?></h1>
								
							<?php endif;?>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</header> <!-- end article header -->

	<?php endif;?>
				

	
	<section class="entry-content" itemprop="text">
	    <?php the_content(); ?>
	    
	    <?php get_template_part( 'parts/loop', 'modules' ); ?>
	    
	</section> <!-- end article section -->
						    					
</article> <!-- end article -->